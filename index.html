<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,viewport-fit=cover"><title>BUBBLE SHOOTER</title><style>*{margin:0;padding:0;box-sizing:border-box}html,body{width:100%;height:100%}body{background:linear-gradient(135deg,#ff006e,#fb5607,#ffbe0b,#00d9ff,#00ff88);font-family:Arial;overflow:hidden}#game{width:100%;height:100%;display:flex;flex-direction:column}#top{padding:15px;background:rgba(0,0,0,0.15);display:flex;justify-content:center;gap:60px;color:#fff;font-weight:bold;font-size:24px}#cvs{flex:1;display:block;background:linear-gradient(135deg,#ff006e,#fb5607,#ffbe0b,#00d9ff,#00ff88);touch-action:none}#over{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.95);padding:40px;border-radius:20px;text-align:center;display:none;z-index:99;border:3px solid #ffbe0b}#over h1{color:#ffbe0b;font-size:40px;margin-bottom:20px}#over p{color:#fff;margin:15px 0}button{background:linear-gradient(135deg,#ff006e,#fb5607);color:#fff;border:none;padding:15px 35px;font-size:16px;border-radius:10px;cursor:pointer;margin-top:20px;font-weight:bold}</style></head><body><div id="game"><div id="top"><span>SCORE: <b id="sc">0</b></span><span>MOVES: <b id="mv">30</b></span></div><canvas id="cvs"></canvas><div id="over"><h1>GAME OVER</h1><p>Score: <b id="fs">0</b></p><p>Best: <b id="bs">0</b></p><button onclick="location.reload()">PLAY</button></div></div><script src="https://telegram.org/js/telegram-web-app.js"></script><script>try{Telegram.WebApp.ready();Telegram.WebApp.expand()}catch(e){}const c=document.getElementById('cvs'),ctx=c.getContext('2d');let W=c.width=window.innerWidth,H=c.height=window.innerHeight;const cols=6,rows=6,colors=['#FF1493','#FF69B4','#FFD700','#00CED1','#32CD32','#FF6347','#4169E1','#FF8C00'];let balls=[],score=0,moves=30,shooter={x:W/2,y:H-60,c:0};function draw(){ctx.fillStyle='transparent';ctx.clearRect(0,0,W,H);balls.forEach(b=>{ctx.fillStyle=colors[b.c];ctx.beginPath();ctx.arc(b.x,b.y,20,0,Math.PI*2);ctx.fill();ctx.strokeStyle='#fff';ctx.lineWidth=3;ctx.stroke()});ctx.fillStyle=colors[shooter.c];ctx.beginPath();ctx.arc(shooter.x,shooter.y,23,0,Math.PI*2);ctx.fill();ctx.strokeStyle='#fff';ctx.lineWidth=3;ctx.stroke()}function init(){balls=[];let R=35;for(let r=0;r<rows;r++){for(let c=0;c<cols;c++){balls.push({x:R+c*R*2+20,y:R+r*R*2+80,c:Math.floor(Math.random()*colors.length)})}}score=0;moves=30;shooter.c=Math.floor(Math.random()*colors.length);document.getElementById('sc').textContent=score;document.getElementById('mv').textContent=moves;document.getElementById('over').style.display='none';draw()}function dist(x1,y1,x2,y2){return Math.sqrt((x2-x1)**2+(y2-y1)**2)}function shoot(x,y){if(moves<=0)return;let dx=x-shooter.x,dy=y-shooter.y,d=dist(shooter.x,shooter.y,x,y);if(d<10)return;let vx=dx/d*8,vy=dy/d*8,bx=shooter.x,by=shooter.y,bc=shooter.c;let i=setInterval(()=>{bx+=vx;by+=vy;if(bx<20||bx>W-20)vx=-vx;let hit=-1;for(let j=0;j<balls.length;j++){if(dist(bx,by,balls[j].x,balls[j].y)<40){hit=j;break}}if(hit>=0){clearInterval(i);balls.splice(hit,0,{x:bx,y:by,c:bc});let grp=getGroup(hit);if(grp.length>=3){grp.forEach(j=>balls.splice(j,1));score+=grp.length*10;document.getElementById('sc').textContent=score}moves--;document.getElementById('mv').textContent=moves;shooter.c=Math.floor(Math.random()*colors.length);if(moves<=0)endGame();draw();return}if(by<0){clearInterval(i);draw();return}draw()},30)}function getGroup(idx){let vis=new Set(),q=[idx],g=[];while(q.length){let i=q.shift();if(vis.has(i))continue;vis.add(i);g.push(i);for(let j=0;j<balls.length;j++){if(!vis.has(j)&&balls[j].c===balls[i].c){if(dist(balls[i].x,balls[i].y,balls[j].x,balls[j].y)<50)q.push(j)}}}return g}function endGame(){let b=parseInt(localStorage.getItem('bs')||'0');if(score>b){localStorage.setItem('bs',b=score)}document.getElementById('fs').textContent=score;document.getElementById('bs').textContent=b;document.getElementById('over').style.display='block'}c.onclick=e=>shoot(e.clientX,e.clientY);c.ontouchstart=e=>{e.preventDefault();shoot(e.touches[0].clientX,e.touches[0].clientY)};window.onresize=()=>{W=c.width=window.innerWidth;H=c.height=window.innerHeight;draw()};init();</script></body></html>
