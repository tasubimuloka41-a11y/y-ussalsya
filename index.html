<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>üéÆ BUBBLE SHOOTER PREMIUM</title><style>*{margin:0;padding:0;box-sizing:border-box}body{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#7FD13B,#FFD700,#FF8C00);background-size:400% 400%;animation:gradient 15s ease infinite;font-family:Arial,sans-serif;overflow:hidden}@keyframes gradient{0%,100%{background-position:0 50%}50%{background-position:100% 50%}}#game{position:relative;text-align:center}#ui{position:absolute;top:20px;left:0;right:0;display:flex;justify-content:space-around;padding:0 40px;z-index:10}#ui div{color:#fff;font-size:28px;font-weight:700;text-shadow:3px 3px 6px rgba(0,0,0,.5);display:flex;align-items:center;gap:10px}#ui span{font-size:32px;color:#FFD700}canvas{display:block;background:0 0}#gameOver{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,.9);color:#fff;padding:40px 60px;border-radius:20px;display:none;text-align:center;z-index:100;box-shadow:0 20px 60px rgba(0,0,0,.8)}#gameOver h1{font-size:48px;margin-bottom:20px;color:#FF1744}#gameOver p{font-size:24px;margin:15px 0}#gameOver button{margin-top:30px;padding:15px 40px;font-size:20px;background:linear-gradient(135deg,#FF1744,#FF6F00);border:none;border-radius:50px;color:#fff;cursor:pointer;font-weight:700;box-shadow:0 5px 15px rgba(255,23,68,.4);transition:transform .2s}#gameOver button:hover{transform:scale(1.05)}#title{position:absolute;top:-60px;left:50%;transform:translateX(-50%);color:#fff;font-size:36px;font-weight:700;text-shadow:3px 3px 8px rgba(0,0,0,.5);display:flex;align-items:center;gap:10px}#title::before{content:'üéÆ'}#combo{position:absolute;top:80px;left:50%;transform:translateX(-50%);color:#FFD700;font-size:36px;font-weight:700;text-shadow:3px 3px 8px rgba(0,0,0,.8);display:none;animation:pulse .5s ease}@keyframes pulse{0%,100%{transform:translateX(-50%) scale(1)}50%{transform:translateX(-50%) scale(1.2)}}</style></head><body><div id="game"><div id="title">BUBBLE SHOOTER</div><div id="ui"><div>–û—á–∫–∏: <span id="score">0</span></div><div>–•–æ–¥—ã: <span id="moves">30</span></div></div><div id="combo"></div><canvas id="canvas" width="600" height="800"></canvas><div id="gameOver"><h1>GAME OVER!</h1><p>–í–∞—à–∏ –æ—á–∫–∏: <span id="finalScore">0</span></p><p>–†–µ–∫–æ—Ä–¥: <span id="bestScore">0</span></p><button onclick="location.reload()">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button></div></div><script>const c=document.getElementById('canvas'),x=c.getContext('2d',{alpha:!0}),W=600,H=800,COLS=10,ROWS=14,SIZE=60,COLORS=['#FF1744','#00E676','#00B0FF','#FFEA00'];let grid=[],score=0,moves=30,shooter=null,nextColor=null,mouseX=0,mouseY=0,gameActive=!0,lastShotTime=0;class Bubble{constructor(x,y,color){this.x=x;this.y=y;this.color=color;this.vx=0;this.vy=0;this.moving=!1;this.radius=SIZE/2-3}draw(){if(!this.color)return;x.beginPath();x.arc(this.x,this.y,this.radius,0,2*Math.PI);const g=x.createRadialGradient(this.x-8,this.y-8,5,this.x,this.y,this.radius);g.addColorStop(0,'rgba(255,255,255,0.8)');g.addColorStop(.5,this.color);g.addColorStop(1,this.color);x.fillStyle=g;x.fill();x.strokeStyle='rgba(255,255,255,0.3)';x.lineWidth=2;x.stroke()}update(){if(!this.moving)return;this.x+=this.vx;this.y+=this.vy;if(this.x<this.radius){this.x=this.radius;this.vx*=-1}if(this.x>W-this.radius){this.x=W-this.radius;this.vx*=-1}if(this.y<this.radius){this.y=this.radius;this.vy*=-1}}}function init(){for(let r=0;r<ROWS;r++){grid[r]=[];for(let c=0;c<COLS;c++)grid[r][c]=r<5?randomColor():null}nextColor=randomColor();resetShooter()}function resetShooter(){shooter=new Bubble(W/2,H-40,nextColor);shooter.moving=!1;nextColor=randomColor()}function randomColor(){return COLORS[Math.floor(Math.random()*COLORS.length)]}function getGridPos(x,y){return{col:Math.floor(x/SIZE),row:Math.floor(y/SIZE)}}function getCellCenter(row,col){return{x:col*SIZE+SIZE/2,y:row*SIZE+SIZE/2}}function drawGrid(){for(let r=0;r<ROWS;r++)for(let c=0;c<COLS;c++)if(grid[r][c]){const pos=getCellCenter(r,c);x.beginPath();x.arc(pos.x,pos.y,SIZE/2-3,0,2*Math.PI);const g=x.createRadialGradient(pos.x-8,pos.y-8,5,pos.x,pos.y,SIZE/2-3);g.addColorStop(0,'rgba(255,255,255,0.8)');g.addColorStop(.5,grid[r][c]);g.addColorStop(1,grid[r][c]);x.fillStyle=g;x.fill();x.strokeStyle='rgba(255,255,255,0.3)';x.lineWidth=2;x.stroke()}}function drawNextBubble(){const nx=W/2,ny=H-100;x.beginPath();x.arc(nx,ny,SIZE/2-5,0,2*Math.PI);const g=x.createRadialGradient(nx-6,ny-6,3,nx,ny,SIZE/2-5);g.addColorStop(0,'rgba(255,255,255,0.9)');g.addColorStop(.5,nextColor);g.addColorStop(1,nextColor);x.fillStyle=g;x.fill();x.strokeStyle='rgba(255,255,255,0.4)';x.lineWidth=2;x.stroke();x.font='bold 14px Arial';x.fillStyle='#fff';x.textAlign='center';x.shadowColor='rgba(0,0,0,0.5)';x.shadowBlur=3;x.fillText('NEXT',nx,ny+45);x.shadowBlur=0}function findMatches(row,col,color,visited={}){const key=row+','+col;if(visited[key])return[];if(row<0||row>=ROWS||col<0||col>=COLS)return[];if(!grid[row][col]||grid[row][col]!==color)return[];visited[key]=!0;let m=[{row,col}];m=m.concat(findMatches(row-1,col,color,visited));m=m.concat(findMatches(row+1,col,color,visited));m=m.concat(findMatches(row,col-1,color,visited));m=m.concat(findMatches(row,col+1,color,visited));return m}function removeMatches(matches){matches.forEach(({row,col})=>grid[row][col]=null);let pts=matches.length===3?10:matches.length===4?25:50+(matches.length-5)*10;const now=Date.now();if(now-lastShotTime<3e3){pts=Math.floor(1.5*pts);showCombo('COMBO x2 +50%!')}lastShotTime=now;score+=pts;updateScore()}function findConnected(row,col,visited={}){const key=row+','+col;if(visited[key])return[];if(row<0||col<0||col>=COLS)return[];if(!grid[row]||!grid[row][col])return[];visited[key]=!0;let connected=[{row,col}];connected=connected.concat(findConnected(row-1,col,visited));connected=connected.concat(findConnected(row+1,col,visited));connected=connected.concat(findConnected(row,col-1,visited));connected=connected.concat(findConnected(row,col+1,visited));return connected}function removeFloating(){let connected={};for(let c=0;c<COLS;c++)if(grid[0][c])findConnected(0,c,connected);let removed=0;for(let r=0;r<ROWS;r++)for(let c=0;c<COLS;c++)if(grid[r][c]&&!connected[r+','+c]){grid[r][c]=null;removed++}if(removed>0){const bonus=removed*5;score+=bonus;if(bonus>0)showCombo(`–¶–µ–ø–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è +${bonus}!`);updateScore()}}function showCombo(text){const el=document.getElementById('combo');el.textContent=text;el.style.display='block';setTimeout(()=>el.style.display='none',1500)}function checkCollision(){const gp=getGridPos(shooter.x,shooter.y);if(gp.row>=0&&gp.row<ROWS&&gp.col>=0&&gp.col<COLS){if(grid[gp.row][gp.col]||shooter.y<=SIZE*5+SIZE/2){grid[gp.row][gp.col]=shooter.color;const matches=findMatches(gp.row,gp.col,shooter.color);if(matches.length>=3)removeMatches(matches);removeFloating();moves--;updateMoves();if(moves<=0)endGame('–•–æ–¥—ã –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å!');checkGameOver();resetShooter()}}}function checkGameOver(){for(let c=0;c<COLS;c++)if(grid[ROWS-2][c]){endGame('–ü—É–∑—ã—Ä—å–∫–∏ –¥–æ—Å—Ç–∏–≥–ª–∏ –¥–Ω–∞!');return}}function updateScore(){document.getElementById('score').textContent=score}function updateMoves(){document.getElementById('moves').textContent=moves}function endGame(reason){gameActive=!1;const best=localStorage.getItem('bestScore')||0;if(score>best)localStorage.setItem('bestScore',score);document.getElementById('finalScore').textContent=score;document.getElementById('bestScore').textContent=Math.max(score,best);document.getElementById('gameOver').style.display='block'}function render(){x.clearRect(0,0,W,H);drawGrid();if(shooter)shooter.draw();drawNextBubble()}function update(){if(!gameActive)return;if(shooter&&shooter.moving){shooter.update();checkCollision()}}function gameLoop(){update();render();requestAnimationFrame(gameLoop)}c.addEventListener('click',e=>{if(!gameActive||!shooter||shooter.moving)return;const rect=c.getBoundingClientRect(),mx=e.clientX-rect.left,my=e.clientY-rect.top,angle=Math.atan2(my-shooter.y,mx-shooter.x);shooter.vx=10*Math.cos(angle);shooter.vy=10*Math.sin(angle);shooter.moving=!0});c.addEventListener('mousemove',e=>{const rect=c.getBoundingClientRect();mouseX=e.clientX-rect.left;mouseY=e.clientY-rect.top});init();gameLoop();</script></body></html>
