<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>DURAK - Card Game</title><style>*{margin:0;padding:0}body{width:100vw;height:100vh;background:linear-gradient(135deg,#1a5f2f,#2d8659);font-family:Arial;display:flex;align-items:center;justify-content:center;color:#fff;overflow:hidden}#game{width:1200px;height:700px;background:rgba(0,0,0,0.3);border:3px solid #4CAF50;border-radius:10px;padding:20px;display:flex;flex-direction:column}#status{font-size:20px;margin-bottom:20px;height:30px}#board{display:grid;grid-template-columns:repeat(5,1fr);gap:20px;margin-bottom:20px;flex:1;overflow:auto}#hand{display:flex;gap:10px;justify-content:center;margin-bottom:10px;min-height:80px}.card{width:60px;height:90px;background:#fff;border:2px solid #333;border-radius:5px;display:flex;align-items:center;justify-content:center;font-weight:bold;cursor:pointer;font-size:18px}.card.red{color:#e74c3c}.card.black{color:#000}.card:hover{transform:scale(1.1);box-shadow:0 0 10px #FFD700}#buttons{display:flex;gap:10px;justify-content:center}.btn{padding:10px 20px;background:#4CAF50;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer}.btn:hover{background:#45a049}</style></head><body><div id="game"><div id="status">Начало игры</div><div id="board"></div><div id="hand"></div><div id="buttons"><button class="btn" id="beat">Отбить (Space)</button><button class="btn" id="pass">Пасс (Enter)</button></div></div><script>const SUITS={H:"♥",D:"♦",C:"♣",S:"♠"};const VALUES={2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",J:"J",Q:"Q",K:"K",A:"A"};function createDeck(){const deck=[];for(let suit in SUITS){for(let val in VALUES){deck.push({suit,val})}}return deck.sort(()=>Math.random()-0.5)}function cardStr(c){return VALUES[c.val]+SUITS[c.suit]}function canBeat(attack,beat){const order={2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,J:11,Q:12,K:13,A:14};return beat.suit===attack.suit&&order[beat.val]>order[attack.val]||beat.val===attack.val}let deck=createDeck(),player=[],bot=[],board=[],gameStatus="Ход игрока";function drawCards(){while(deck.length>0&&player.length<6){player.push(deck.pop())}while(deck.length>0&&bot.length<6){bot.push(deck.pop())}}function botPlay(){const attack=[];for(let c of bot){if(attack.length===0){attack.push(c);break}for(let opp of board){if(opp.beat){if(attack.find(a=>a.val===opp.attack.val)||attack.find(a=>a.val===opp.beat.val)){attack.push(c);break}}}}return attack}function render(){document.getElementById('status').textContent=gameStatus;const boardEl=document.getElementById('board');boardEl.innerHTML='';for(let pair of board){const div=document.createElement('div');div.style.textAlign='center';div.innerHTML=`<div style="color:red">${cardStr(pair.attack)}</div>${pair.beat?`<div style="color:green">${cardStr(pair.beat)}</div>`:'<div style="color:#999">?</div>'}`;boardEl.appendChild(div)}const handEl=document.getElementById('hand');handEl.innerHTML='';for(let i=0;i<player.length;i++){const c=document.createElement('div');c.className='card '+(c.suit in{H:1,D:1}?'red':'black');c.textContent=cardStr(player[i]);c.onclick=()=>playCard(i);handEl.appendChild(c)}}function playCard(idx){const c=player[idx];const attack=board.find(p=>!p.beat);if(attack){if(canBeat(attack.attack,c)){attack.beat=c;player.splice(idx,1);gameStatus='Ход бота';setTimeout(botTurn,1000)}else{gameStatus='Не можешь отбить!'}}else if(board.length<3){board.push({attack:c,beat:null});player.splice(idx,1);gameStatus='Ход бота';setTimeout(botTurn,1000)}}function botTurn(){const toBeat=board.find(p=>!p.beat);if(toBeat&&bot.length>0){if(canBeat(toBeat.attack,bot[0])){toBeat.beat=bot.shift();gameStatus='Твой ход';render()}else{gameStatus='Бот не может отбить! Ты выиграл!';render()}}else{gameStatus='Бот атакует';const attack=botPlay();for(let c of attack){board.push({attack:c,beat:null})}bot=bot.filter(c=>!attack.includes(c));gameStatus='Отбивай!';render()}}drawCards();render();document.getElementById('beat').onclick=()=>{playCard(0)};document.getElementById('pass').onclick=()=>{board=[];player=[...player,...bot];gameStatus='Новый раунд - ход бота';render()};</script></body></html>
