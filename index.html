<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>BUBBLE</title><style>*{margin:0;padding:0}body{width:100vw;height:100vh;background:linear-gradient(135deg,#FF00FF,#00FFFF,#FFFF00,#FF0080);display:flex;align-items:center;justify-content:center}canvas{display:block;background:linear-gradient(135deg,#FF00FF,#00FFFF,#FFFF00,#FF0080);border:2px solid #fff}#ui{position:fixed;top:20px;left:50%;transform:translateX(-50%);color:#fff;font-size:24px;font-weight:bold;background:rgba(0,0,0,0.6);padding:10px 20px;border-radius:10px;text-shadow:2px 2px 4px #000}</style></head><body><canvas id="c"></canvas><div id="ui">SCORE: <span id="s">0</span> | MOVES: <span id="m">30</span></div><script>const c=document.getElementById('c'),x=c.getContext('2d');c.width=800;c.height=window.innerHeight;const ROWS=8,COLS=6,SIZE=20,COL=['#FF0000','#00FF00','#0000FF','#FFFF00','#FF00FF','#00FFFF','#FFA500'];let grid=[],score=0,moves=30,bullet=null,angle=0;function init(){grid=[];for(let r=0;r<ROWS;r++){grid[r]=[];for(let c=0;c<COLS;c++){grid[r][c]=Math.floor(Math.random()*COL.length)}}}function getPos(r,c){const offsetX=r%2===1?SIZE:0;return{x:150+offsetX+c*SIZE*2,y:40+r*SIZE*1.75}}function draw(){x.clearRect(0,0,c.width,c.height);for(let r=0;r<ROWS;r++){for(let cc=0;cc<COLS;cc++){if(grid[r]&&grid[r][cc]>=0){let p=getPos(r,cc);x.beginPath();x.arc(p.x,p.y,SIZE,0,Math.PI*2);x.fillStyle=COL[grid[r][cc]];x.fill();x.strokeStyle='rgba(255,255,255,0.8)';x.lineWidth=2;x.stroke()}}}if(bullet){x.beginPath();x.arc(bullet.x,bullet.y,SIZE-5,0,Math.PI*2);x.fillStyle='#FF1493';x.fill()}let gunX=400,gunY=c.height-40;x.beginPath();x.arc(gunX,gunY,15,0,Math.PI*2);x.fillStyle='#00FF00';x.fill();let aX=gunX+Math.cos(angle)*30,aY=gunY+Math.sin(angle)*30;x.strokeStyle='#fff';x.lineWidth=2;x.beginPath();x.moveTo(gunX,gunY);x.lineTo(aX,aY);x.stroke()}function shoot(){if(moves<=0||bullet)return;moves--;document.getElementById('m').innerText=moves;bullet={x:400,y:c.height-40,vx:Math.cos(angle)*6,vy:Math.sin(angle)*6}}function update(){if(!bullet)return;bullet.x+=bullet.vx;bullet.y+=bullet.vy;if(bullet.x<0||bullet.x>c.width||bullet.y<0){bullet=null;return}for(let r=0;r<ROWS;r++){for(let cc=0;cc<COLS;cc++){if(grid[r]&&grid[r][cc]>=0){let p=getPos(r,cc),d=Math.sqrt((bullet.x-p.x)**2+(bullet.y-p.y)**2);if(d<SIZE+5){let hitColor=grid[r][cc];grid[r][cc]=-1;bullet=null;score+=10;document.getElementById('s').innerText=score;removeMatching(r,cc,hitColor);return}}}}if(moves<=0&&!bullet){setTimeout(()=>{alert('Game Over! Score: '+score);location.reload()},500)}}function removeMatching(r,c,color){const toRemove=[],visited=new Set();function dfs(rr,cc){const k=rr+','+cc;if(visited.has(k)||rr<0||rr>=ROWS||cc<0||cc>=COLS||!grid[rr]||grid[rr][cc]!==color)return;visited.add(k);toRemove.push({rr,cc});dfs(rr-1,cc);dfs(rr+1,cc);dfs(rr,cc-1);dfs(rr,cc+1)}dfs(r,c);if(toRemove.length>=3){toRemove.forEach(({rr,cc})=>{grid[rr][cc]=-1;score+=50});document.getElementById('s').innerText=score}}function loop(){update();draw();requestAnimationFrame(loop)}document.addEventListener('mousemove',(e)=>{if(!bullet){let rect=c.getBoundingClientRect(),mx=e.clientX-rect.left,my=e.clientY-rect.top;angle=Math.atan2(my-(c.height-40),mx-400)}});c.addEventListener('click',shoot);init();loop();</script></body></html>
