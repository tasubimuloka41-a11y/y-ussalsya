<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,viewport-fit=cover"><title>BUBBLE</title><style>*{margin:0;padding:0}html,body{width:100%;height:100%}body{background:linear-gradient(135deg,#FF00FF,#00FFFF,#FFFF00,#FF0080);overflow:hidden;font-family:Arial}canvas{display:block;width:100%;height:100%}#ui{position:fixed;top:5px;left:50%;transform:translateX(-50%);color:#fff;font-weight:bold;font-size:20px;text-shadow:0 0 5px #000;z-index:10}</style></head><body><div id="ui">SCORE: <span id="s">0</span> | MOVES: <span id="m">30</span></div><canvas id="c"></canvas><script src="https://telegram.org/js/telegram-web-app.js"></script><script>try{Telegram.WebApp.ready();Telegram.WebApp.expand()}catch(e){}const c=document.getElementById('c'),x=c.getContext('2d');c.width=window.innerWidth;c.height=window.innerHeight;const cols=6,rows=8,size=40;const col=['#FF0000','#00FF00','#0000FF','#FFFF00','#FF00FF','#00FFFF','#FF6600'];let grid=[],score=0,moves=30;function init(){grid=[];for(let r=0;r<rows;r++){grid[r]=[];for(let c=0;c<cols;c++){grid[r][c]=Math.floor(Math.random()*col.length)}}score=0;moves=30;document.getElementById('s').innerText=score;document.getElementById('m').innerText=moves;draw()}function getPos(r,c){return{x:c*size+50,y:r*size+80}}function draw(){x.fillStyle='transparent';x.clearRect(0,0,c.width,c.height);for(let r=0;r<rows;r++){for(let c=0;c<cols;c++){if(grid[r][c]!==undefined&&grid[r][c]>=0){let p=getPos(r,c);x.fillStyle=col[grid[r][c]];x.beginPath();x.arc(p.x,p.y,16,0,Math.PI*2);x.fill()}}}x.fillStyle='#FF1493';x.beginPath();x.arc(c.width/2,c.height-40,18,0,Math.PI*2);x.fill()}function shoot(tx,ty){if(moves<=0)return;let sx=c.width/2,sy=c.height-40,dx=tx-sx,dy=ty-sy,d=Math.sqrt(dx*dx+dy*dy);if(d<5)return;let vx=dx/d*7,vy=dy/d*7,bx=sx,by=sy;let int=setInterval(()=>{bx+=vx;by+=vy;if(bx<0||bx>c.width||by<0||by>c.height){clearInterval(int);moves--;document.getElementById('m').innerText=moves;draw();return}let hit=-1;for(let r=0;r<rows;r++){for(let c=0;c<cols;c++){if(grid[r][c]>=0){let p=getPos(r,c);let dst=Math.sqrt((bx-p.x)**2+(by-p.y)**2);if(dst<20){hit=r*1000+c;break}}if(hit>=0)break}if(hit>=0){clearInterval(int);let hr=Math.floor(hit/1000),hc=hit%1000;for(let r=rows-1;r>=0;r--){for(let c=0;c<cols;c++){if(grid[r][c]<0){grid[r][c]=grid[hr][hc];grid[hr][hc]=-1;score+=10;document.getElementById('s').innerText=score;moves--;document.getElementById('m').innerText=moves;draw();if(moves<=0)alert('END');return}}}moves--;document.getElementById('m').innerText=moves;draw();return}draw()},30)}c.onclick=e=>shoot(e.clientX,e.clientY);c.ontouchstart=e=>{e.preventDefault();shoot(e.touches[0].clientX,e.touches[0].clientY)};window.onresize=()=>{c.width=window.innerWidth;c.height=window.innerHeight;draw()};init();</script></body></html>
