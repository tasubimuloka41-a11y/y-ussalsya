<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>BUBBLE</title><style>*{margin:0;padding:0}body{width:100%;height:100vh;background:linear-gradient(135deg,#FF00FF,#00FFFF,#FFFF00,#FF0080);display:flex;align-items:center;justify-content:center;font-family:Arial}canvas{border:2px solid #fff;display:block;background:linear-gradient(135deg,#FF00FF,#00FFFF,#FFFF00,#FF0080)}#ui{position:fixed;top:20px;left:50%;transform:translateX(-50%);color:#fff;font-weight:bold;font-size:24px;text-shadow:2px 2px 4px rgba(0,0,0,0.8);background:rgba(0,0,0,0.5);padding:10px 20px;border-radius:10px;z-index:100}</style></head><body><canvas id="c"></canvas><div id="ui">SCORE: <span id="s">0</span> | MOVES: <span id="m">30</span></div><script>const c=document.getElementById('c'),x=c.getContext('2d');c.width=Math.min(window.innerWidth,800);c.height=window.innerHeight;const COLS=6,ROWS=8,BUBBLE_SIZE=25,SPEED=8,col=['#FF0000','#00FF00','#0000FF','#FFFF00','#FF00FF','#00FFFF','#FFA500'];let grid=[],score=0,moves=30,bullet=null,gameOver=false,angle=0;function init(){grid=[];for(let r=0;r<ROWS;r++){grid[r]=[];for(let c=0;c<COLS;c++){grid[r][c]=Math.floor(Math.random()*col.length)}}}function getPos(r,c){const offsetX=r%2===1?BUBBLE_SIZE:0;return{x:100+offsetX+c*BUBBLE_SIZE*2,y:50+r*BUBBLE_SIZE*1.75}}function drawBubble(x,y,colorIdx){ctx.beginPath();ctx.arc(x,y,BUBBLE_SIZE,0,Math.PI*2);ctx.fillStyle=col[colorIdx];ctx.fill();ctx.strokeStyle='rgba(255,255,255,0.8)';ctx.lineWidth=2;ctx.stroke()}function draw(){x.clearRect(0,0,c.width,c.height);for(let r=0;r<ROWS;r++){for(let col_c=0;col_c<COLS;col_c++){if(grid[r]&&grid[r][col_c]!==undefined&&grid[r][col_c]>=0){let p=getPos(r,col_c);drawBubble(p.x,p.y,grid[r][col_c])}}}if(bullet){x.beginPath();x.arc(bullet.x,bullet.y,BUBBLE_SIZE-5,0,Math.PI*2);x.fillStyle='#FF1493';x.fill()}let gunX=c.width/2,gunY=c.height-40;x.beginPath();x.arc(gunX,gunY,15,0,Math.PI*2);x.fillStyle='#00FF00';x.fill();let aX=gunX+Math.cos(angle)*30,aY=gunY+Math.sin(angle)*30;x.strokeStyle='#fff';x.lineWidth=2;x.beginPath();x.moveTo(gunX,gunY);x.lineTo(aX,aY);x.stroke()}function shoot(){if(moves<=0||gameOver||bullet)return;moves--;document.getElementById('m').innerText=moves;bullet={x:c.width/2,y:c.height-40,vx:Math.cos(angle)*SPEED,vy:Math.sin(angle)*SPEED}}function update(){if(!bullet)return;bullet.x+=bullet.vx;bullet.y+=bullet.vy;if(bullet.x<0||bullet.x>c.width||bullet.y<0){bullet=null;return}for(let r=0;r<ROWS;r++){for(let col_c=0;col_c<COLS;col_c++){if(grid[r]&&grid[r][col_c]>=0){let p=getPos(r,col_c),dist=Math.sqrt((bullet.x-p.x)**2+(bullet.y-p.y)**2);if(dist<BUBBLE_SIZE+5){let hitColor=grid[r][col_c];grid[r][col_c]=-1;bullet=null;score+=10;document.getElementById('s').innerText=score;removeMatching(r,col_c,hitColor);return}}}}if(moves<=0&&!bullet){gameOver=true;setTimeout(()=>{alert('Game Over! Score: '+score);location.reload()},300)}}function removeMatching(r,c,color){const visited=new Set(),toRemove=[];function dfs(rr,cc){const key=rr+','+cc;if(visited.has(key)||rr<0||rr>=ROWS||!grid[rr]||cc<0||cc>=COLS||grid[rr][cc]!==color)return;visited.add(key);toRemove.push({rr,cc});dfs(rr-1,cc);dfs(rr+1,cc);dfs(rr,cc+1);dfs(rr,cc-1)}dfs(r,c);if(toRemove.length>=3){toRemove.forEach(({rr,cc})=>{grid[rr][cc]=-1;score+=50});document.getElementById('s').innerText=score}}function gameLoop(){update();draw();requestAnimationFrame(gameLoop)}document.addEventListener('mousemove',(e)=>{if(!bullet){let rect=c.getBoundingClientRect(),mx=e.clientX-rect.left,my=e.clientY-rect.top,dx=mx-c.width/2,dy=my-(c.height-40);angle=Math.atan2(dy,dx)}});c.addEventListener('click',shoot);window.onresize=()=>{c.width=Math.min(window.innerWidth,800);draw()};init();gameLoop();</script></body></html>
