<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,viewport-fit=cover"><title>BUBBLE</title><style>*{margin:0;padding:0}html,body{width:100%;height:100%;overflow:hidden;font-family:Arial}body{background:linear-gradient(135deg,#FF00FF,#00FFFF,#FFFF00,#FF0080)}canvas{display:block;width:100%;height:100%}#ui{position:fixed;top:10px;left:50%;transform:translateX(-50%);color:#fff;font-weight:bold;font-size:20px;text-shadow:0 0 8px rgba(0,0,0,0.8);z-index:10}</style></head><body><canvas id="c"></canvas><div id="ui"><span>SCORE: </span><span id="s">0</span><span> | MOVES: </span><span id="m">30</span></div><script>const c=document.getElementById('c'),x=c.getContext('2d');let w=c.width=window.innerWidth,h=c.height=window.innerHeight;const cols=8,rows=8,size=40,col=['#FF0000','#00FF00','#0000FF','#FFFF00','#FF00FF','#00FFFF','#FFA500','#FF1493'];let grid=[],score=0,moves=30,bullets=[],gameOver=false;function init(){grid=[];for(let r=0;r<rows;r++){grid[r]=[];for(let c=0;c<cols;c++){grid[r][c]=Math.floor(Math.random()*col.length)}}}function getPos(r,c){return{x:50+c*size,y:50+r*size}}function drawBubble(p,ci){x.beginPath();x.arc(p.x,p.y,16,0,Math.PI*2);x.fillStyle=col[ci];x.fill();x.strokeStyle='rgba(255,255,255,0.7)';x.lineWidth=1;x.stroke()}function draw(){x.fillStyle='transparent';x.clearRect(0,0,w,h);for(let r=0;r<rows;r++){for(let c=0;c<cols;c++){if(grid[r][c]!==undefined&&grid[r][c]>=0){let p=getPos(r,c);drawBubble(p,grid[r][c])}}}for(let b of bullets){x.beginPath();x.arc(b.x,b.y,10,0,Math.PI*2);x.fillStyle='#FF1493';x.fill()}x.beginPath();x.arc(w/2,h-40,15,0,Math.PI*2);x.fillStyle='#00FF00';x.fill()}function shoot(tx,ty){if(moves<=0||gameOver)return;moves--;document.getElementById('m').innerText=moves;let sx=w/2,sy=h-40,dx=tx-sx,dy=ty-sy,d=Math.sqrt(dx*dx+dy*dy);if(d<5)return;let vx=(dx/d)*7,vy=(dy/d)*7;bullets.push({x:sx,y:sy,vx:vx,vy:vy});if(moves<=0){gameOver=true;setTimeout(()=>{alert('Game Over!');location.reload()},300)}}function update(){for(let i=bullets.length-1;i>=0;i--){let b=bullets[i];b.x+=b.vx;b.y+=b.vy;if(b.x<0||b.x>w||b.y<0||b.y>h){bullets.splice(i,1);continue}let hit=false;for(let r=0;r<rows&&!hit;r++){for(let c=0;c<cols&&!hit;c++){if(grid[r][c]>=0){let p=getPos(r,c),dist=Math.sqrt((b.x-p.x)**2+(b.y-p.y)**2);if(dist<26){grid[r][c]=-1;bullets.splice(i,1);score+=10;document.getElementById('s').innerText=score;removeAdjacent(r,c);hit=true}}}}}}function removeAdjacent(r,c,col_idx){const color=grid[r][c];if(color<0)return;const visited=new Set(),toRemove=[];function dfs(rr,cc){const key=rr+','+cc;if(visited.has(key)||rr<0||rr>=rows||cc<0||cc>=cols||grid[rr][cc]!==color)return;visited.add(key);toRemove.push({rr,cc});dfs(rr-1,cc);dfs(rr+1,cc);dfs(rr,cc-1);dfs(rr,cc+1)}dfs(r,c);if(toRemove.length>=3){toRemove.forEach(({rr,cc})=>{grid[rr][cc]=-1;score+=50});document.getElementById('s').innerText=score}}function loop(){update();draw();requestAnimationFrame(loop)}c.onclick=e=>shoot(e.clientX,e.clientY);c.ontouchstart=e=>{e.preventDefault();shoot(e.touches[0].clientX,e.touches[0].clientY)};window.onresize=()=>{w=c.width=window.innerWidth;h=c.height=window.innerHeight;draw()};init();loop();</script></body></html>
