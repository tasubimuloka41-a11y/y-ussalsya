<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>üéÆ BUBBLE SHOOTER PREMIUM</title><style>*{margin:0;padding:0;box-sizing:border-box}body{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(-45deg,#7ed56f,#28b485,#55c57a,#5ac18e);background-size:400% 400%;animation:gradient 15s ease infinite;font-family:'Arial',sans-serif;overflow:hidden}@keyframes gradient{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}#game{position:relative;text-align:center}#ui{position:absolute;top:20px;left:0;right:0;display:flex;justify-content:space-around;padding:0 40px;z-index:10}#ui div{color:#fff;font-size:28px;font-weight:bold;text-shadow:3px 3px 6px rgba(0,0,0,0.5);display:flex;align-items:center;gap:10px}#ui span{font-size:32px;color:#FFD700}canvas{display:block;cursor:crosshair;filter:drop-shadow(0 10px 30px rgba(0,0,0,0.3))}#gameOver{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.9);color:#fff;padding:40px 60px;border-radius:20px;display:none;text-align:center;z-index:100;box-shadow:0 20px 60px rgba(0,0,0,0.8)}#gameOver h1{font-size:48px;margin-bottom:20px;color:#FF1744}#gameOver p{font-size:24px;margin:15px 0}#gameOver button{margin-top:30px;padding:15px 40px;font-size:20px;background:linear-gradient(135deg,#FF1744,#FF6F00);border:none;border-radius:50px;color:#fff;cursor:pointer;font-weight:bold;box-shadow:0 5px 15px rgba(255,23,68,0.4);transition:transform 0.2s}#gameOver button:hover{transform:scale(1.05)}#title{position:absolute;top:-60px;left:50%;transform:translateX(-50%);color:#fff;font-size:36px;font-weight:bold;text-shadow:3px 3px 8px rgba(0,0,0,0.5);display:flex;align-items:center;gap:10px}#title::before{content:'üéÆ'}#combo{position:absolute;top:80px;left:50%;transform:translateX(-50%);color:#FFD700;font-size:36px;font-weight:bold;text-shadow:3px 3px 8px rgba(0,0,0,0.8);display:none;animation:pulse 0.5s ease}@keyframes pulse{0%,100%{transform:translateX(-50%) scale(1)}50%{transform:translateX(-50%) scale(1.2)}}</style></head><body><div id="game"><div id="title">BUBBLE SHOOTER</div><div id="ui"><div>–û—á–∫–∏: <span id="score">0</span></div><div>–•–æ–¥—ã: <span id="moves">30</span></div></div><div id="combo"></div><canvas id="canvas" width="600" height="800"></canvas><div id="gameOver"><h1>GAME OVER!</h1><p>–í–∞—à–∏ –æ—á–∫–∏: <span id="finalScore">0</span></p><p>–†–µ–∫–æ—Ä–¥: <span id="bestScore">0</span></p><button onclick="location.reload()">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button></div></div><script>const canvas=document.getElementById('canvas'),ctx=canvas.getContext('2d',{alpha:false}),W=600,H=800,COLS=10,ROWS=14,SIZE=60,COLORS=['#FF1744','#00E676','#00B0FF','#FFEA00'],INITIAL_ROWS=5;let grid=[],score=0,moves=30,shooter=null,nextColor=null,mouseX=0,mouseY=0,descendTimer=0,descendInterval=10000,gameActive=true,lastShotTime=0,comboCount=0,cascadeDepth=0;class Bubble{constructor(x,y,color){this.x=x;this.y=y;this.color=color;this.vx=0;this.vy=0;this.moving=false;this.radius=SIZE/2-3}draw(){if(!this.color)return;ctx.beginPath();ctx.arc(this.x,this.y,this.radius,0,Math.PI*2);const grad=ctx.createRadialGradient(this.x-8,this.y-8,5,this.x,this.y,this.radius);grad.addColorStop(0,'rgba(255,255,255,0.8)');grad.addColorStop(0.5,this.color);grad.addColorStop(1,this.color);ctx.fillStyle=grad;ctx.fill();ctx.strokeStyle='rgba(255,255,255,0.3)';ctx.lineWidth=2;ctx.stroke()}update(){if(!this.moving)return;this.x+=this.vx;this.y+=this.vy;if(this.x<this.radius){this.x=this.radius;this.vx*=-1}if(this.x>W-this.radius){this.x=W-this.radius;this.vx*=-1}if(this.y<this.radius){this.y=this.radius;this.vy*=-1}}}function init(){for(let r=0;r<ROWS;r++){grid[r]=[];for(let c=0;c<COLS;c++){grid[r][c]=r<INITIAL_ROWS?randomColor():null}}nextColor=randomColor();resetShooter()}function resetShooter(){shooter=new Bubble(W/2,H-40,nextColor);shooter.moving=false;nextColor=randomColor()}function randomColor(){return COLORS[Math.floor(Math.random()*COLORS.length)]}function getGridPos(x,y){return{col:Math.floor(x/SIZE),row:Math.floor(y/SIZE)}}function getCellCenter(row,col){return{x:col*SIZE+SIZE/2,y:row*SIZE+SIZE/2}}function drawGrid(){for(let r=0;r<ROWS;r++){for(let c=0;c<COLS;c++){if(grid[r][c]){const pos=getCellCenter(r,c);ctx.beginPath();ctx.arc(pos.x,pos.y,SIZE/2-3,0,Math.PI*2);const grad=ctx.createRadialGradient(pos.x-8,pos.y-8,5,pos.x,pos.y,SIZE/2-3);grad.addColorStop(0,'rgba(255,255,255,0.8)');grad.addColorStop(0.5,grid[r][c]);grad.addColorStop(1,grid[r][c]);ctx.fillStyle=grad;ctx.fill();ctx.strokeStyle='rgba(255,255,255,0.3)';ctx.lineWidth=2;ctx.stroke()}}}}function drawAimLine(){if(shooter&&!shooter.moving){ctx.save();ctx.strokeStyle='rgba(255,255,255,0.6)';ctx.lineWidth=3;ctx.setLineDash([10,5]);ctx.beginPath();const angle=Math.atan2(mouseY-shooter.y,mouseX-shooter.x);const dist=1000;ctx.moveTo(shooter.x,shooter.y);ctx.lineTo(shooter.x+Math.cos(angle)*dist,shooter.y+Math.sin(angle)*dist);ctx.stroke();ctx.restore()}}function drawNextBubble(){const nextX=W/2;const nextY=H-100;ctx.beginPath();ctx.arc(nextX,nextY,SIZE/2-5,0,Math.PI*2);const grad=ctx.createRadialGradient(nextX-6,nextY-6,3,nextX,nextY,SIZE/2-5);grad.addColorStop(0,'rgba(255,255,255,0.9)');grad.addColorStop(0.5,nextColor);grad.addColorStop(1,nextColor);ctx.fillStyle=grad;ctx.fill();ctx.strokeStyle='rgba(255,255,255,0.4)';ctx.lineWidth=2;ctx.stroke();ctx.font='bold 14px Arial';ctx.fillStyle='#fff';ctx.textAlign='center';ctx.shadowColor='rgba(0,0,0,0.5)';ctx.shadowBlur=3;ctx.fillText('NEXT',nextX,nextY+45);ctx.shadowBlur=0}function findMatches(row,col,color,visited={}){const key=row+','+col;if(visited[key])return[];if(row<0||row>=ROWS||col<0||col>=COLS)return[];if(!grid[row][col]||grid[row][col]!==color)return[];visited[key]=true;let matches=[{row,col}];matches=matches.concat(findMatches(row-1,col,color,visited));matches=matches.concat(findMatches(row+1,col,color,visited));matches=matches.concat(findMatches(row,col-1,color,visited));matches=matches.concat(findMatches(row,col+1,color,visited));return matches}function removeMatches(matches){matches.forEach(({row,col})=>{grid[row][col]=null});let pts=matches.length===3?10:matches.length===4?25:50+(matches.length-5)*10;const now=Date.now();if(now-lastShotTime<3000){pts=Math.floor(pts*1.5);comboCount++;showCombo('COMBO x2 +50%!')}else{comboCount=0}lastShotTime=now;score+=pts;updateScore()}function applyGravity(){let moved=true;cascadeDepth=0;while(moved){moved=false;cascadeDepth++;for(let r=ROWS-2;r>=0;r--){for(let c=0;c<COLS;c++){if(grid[r][c]&&!grid[r+1][c]){grid[r+1][c]=grid[r][c];grid[r][c]=null;moved=true}}}}if(cascadeDepth>1){const cascadeBonus=(cascadeDepth-1)*5;score+=cascadeBonus;showCombo(`–¶–µ–ø–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è +${cascadeBonus}!`);updateScore()}}function showCombo(text){const comboEl=document.getElementById('combo');comboEl.textContent=text;comboEl.style.display='block';setTimeout(()=>{comboEl.style.display='none'},1500)}function checkCollision(){const gp=getGridPos(shooter.x,shooter.y);if(gp.row>=0&&gp.row<ROWS&&gp.col>=0&&gp.col<COLS){if(grid[gp.row][gp.col]||shooter.y<=SIZE*INITIAL_ROWS+SIZE/2){grid[gp.row][gp.col]=shooter.color;const matches=findMatches(gp.row,gp.col,shooter.color);if(matches.length>=3){removeMatches(matches);applyGravity()}moves--;updateMoves();if(moves<=0){endGame('–•–æ–¥—ã –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å!')}checkGameOver();resetShooter()}}}function checkGameOver(){for(let c=0;c<COLS;c++){if(grid[ROWS-2][c]){endGame('–ü—É–∑—ã—Ä—å–∫–∏ –¥–æ—Å—Ç–∏–≥–ª–∏ –¥–Ω–∞!');return}}}function descendBubbles(){for(let r=ROWS-1;r>0;r--){for(let c=0;c<COLS;c++){grid[r][c]=grid[r-1][c]}}for(let c=0;c<COLS;c++){grid[0][c]=Math.random()<0.7?randomColor():null}checkGameOver()}function updateScore(){document.getElementById('score').textContent=score}function updateMoves(){document.getElementById('moves').textContent=moves}function endGame(reason){gameActive=false;const best=localStorage.getItem('bestScore')||0;if(score>best){localStorage.setItem('bestScore',score)}document.getElementById('finalScore').textContent=score;document.getElementById('bestScore').textContent=Math.max(score,best);document.getElementById('gameOver').style.display='block'}function render(){ctx.fillStyle='rgba(0,0,0,0.05)';ctx.fillRect(0,0,W,H);drawGrid();if(shooter){shooter.draw();drawAimLine()}drawNextBubble()}function update(){if(!gameActive)return;if(shooter&&shooter.moving){shooter.update();checkCollision()}descendTimer+=16;if(descendTimer>=descendInterval){descendBubbles();descendTimer=0}}function gameLoop(){update();render();requestAnimationFrame(gameLoop)}canvas.addEventListener('click',e=>{if(!gameActive||!shooter||shooter.moving)return;const rect=canvas.getBoundingClientRect();const mx=e.clientX-rect.left;const my=e.clientY-rect.top;const angle=Math.atan2(my-shooter.y,mx-shooter.x);shooter.vx=Math.cos(angle)*10;shooter.vy=Math.sin(angle)*10;shooter.moving=true});canvas.addEventListener('mousemove',e=>{const rect=canvas.getBoundingClientRect();mouseX=e.clientX-rect.left;mouseY=e.clientY-rect.top});init();gameLoop();</script></body></html>
