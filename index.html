<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>üéÆ BUBBLE SHOOTER</title><style>@keyframes bounce{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}@keyframes explode{0%{transform:scale(1);opacity:1}100%{transform:scale(2);opacity:0}}@keyframes particle{0%{transform:translate(0,0) scale(1);opacity:1}100%{transform:translate(var(--tx),var(--ty)) scale(0);opacity:0}}*{margin:0;padding:0;box-sizing:border-box}body{width:100vw;height:100vh;overflow:hidden;background:linear-gradient(45deg,#FF1744,#F50057,#D500F9,#651FFF,#2979FF,#00B0FF,#00E676,#76FF03,#C6FF00,#FFEA00,#FFC400,#FF9100);background-size:400% 400%;animation:bgAnim 28s ease infinite;font-family:Arial;touch-action:none}@keyframes bgAnim{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}#gameWrap{width:100%;height:100%;position:relative;display:flex;flex-direction:column}#topBar{position:absolute;top:10px;left:50%;transform:translateX(-50%);display:flex;gap:15px;z-index:1000;background:rgba(0,0,0,0.9);padding:10px 20px;border-radius:40px;box-shadow:0 5px 26px rgba(0,0,0,0.5)}.score-box{display:flex;flex-direction:column;align-items:center;color:#fff;text-shadow:2px 2px 6px #000}.score-lbl{font-size:9px;opacity:0.9;letter-spacing:1px;font-weight:bold;color:#FFD700}.score-val{font-size:24px;font-weight:bold;color:#00FF00}#cvs{display:block;width:100%;height:100%;touch-action:none}#modal{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(135deg,#1a237e,#311b92);padding:35px;border-radius:20px;text-align:center;display:none;z-index:2000;min-width:260px;box-shadow:0 10px 40px rgba(0,0,0,0.7)}#modal h1{color:#FFD700;font-size:44px;margin-bottom:15px;text-shadow:0 0 25px rgba(255,215,0,0.9)}#modal p{color:#fff;font-size:18px;margin:10px 0}#btn{background:linear-gradient(135deg,#ff1744,#f50057);color:#fff;border:none;padding:15px 40px;font-size:18px;border-radius:40px;cursor:pointer;margin-top:20px;box-shadow:0 5px 18px rgba(245,0,87,0.7);transition:all 0.3s}#btn:hover{transform:scale(1.05);box-shadow:0 10px 25px rgba(245,0,87,0.9)}</style></head><body><div id="gameWrap"><div id="topBar"><div class="score-box"><div class="score-lbl">–û–ß–ö–ò</div><div class="score-val" id="sc">0</div></div><div class="score-box"><div class="score-lbl">–•–û–î–´</div><div class="score-val" id="mv">30</div></div></div><canvas id="cvs"></canvas><div id="modal"><h1>GAME OVER!</h1><p>–û—á–∫–∏: <span id="fs">0</span></p><p>–†–µ–∫–æ—Ä–¥: <span id="bs">0</span></p><button id="btn">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button></div></div><script>const c=document.getElementById('cvs'),ctx=c.getContext('2d'),scD=document.getElementById('sc'),mvD=document.getElementById('mv'),mod=document.getElementById('modal'),fsD=document.getElementById('fs'),bsD=document.getElementById('bs'),btn=document.getElementById('btn');let W,H,R,rows=6,cols=12,grid=[],shooter={x:0,y:0,c:null},sc=0,mv=30,bs=localStorage.getItem('bs')||0,colors=['#FF3333','#3399FF','#33FF33','#FFFF00','#FF00FF','#FF9900','#00FFFF','#FF0099'],emojis=['üòÄ','üî•','üåü','üíé','üåà','‚ö°','üí•','üéØ'],particles=[],animating=false;function resize(){W=c.width=window.innerWidth;H=c.height=window.innerHeight;R=Math.min(W,H)/25;shooter.y=H-R*2;}function init(){resize();grid=[];for(let r=0;r<rows;r++){grid[r]=[];for(let c=0;c<cols;c++){let x=(c+0.5+(r%2?0.5:0))*R*2.1+W/2-cols*R*1.05;let y=r*R*1.8+R*3;if(x>R&&x<W-R)grid[r].push({x,y,c:colors[Math.floor(Math.random()*colors.length)],e:emojis[Math.floor(Math.random()*emojis.length)],scale:1,alpha:1,falling:false,vy:0});}}shooter.c=colors[Math.floor(Math.random()*colors.length)];shooter.x=W/2;sc=0;mv=30;scD.textContent=sc;mvD.textContent=mv;mod.style.display='none';draw();}function draw(){ctx.clearRect(0,0,W,H);grid.forEach(row=>row.forEach(b=>{if(b){ctx.fillStyle=b.c;ctx.globalAlpha=b.alpha;ctx.save();ctx.translate(b.x,b.y);ctx.scale(b.scale,b.scale);ctx.beginPath();ctx.arc(0,0,R,0,Math.PI*2);ctx.fill();ctx.strokeStyle='#FFF';ctx.lineWidth=3;ctx.stroke();ctx.font=`${R*1.2}px Arial`;ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillText(b.e,0,0);ctx.restore();ctx.globalAlpha=1;}}));ctx.fillStyle=shooter.c;ctx.beginPath();ctx.arc(shooter.x,shooter.y,R*1.2,0,Math.PI*2);ctx.fill();ctx.strokeStyle='#FFF';ctx.lineWidth=4;ctx.stroke();particles.forEach((p,i)=>{ctx.save();ctx.translate(p.x,p.y);ctx.globalAlpha=p.alpha;ctx.fillStyle=p.c;ctx.beginPath();ctx.arc(0,0,p.size,0,Math.PI*2);ctx.fill();ctx.restore();p.x+=p.vx;p.y+=p.vy;p.vy+=0.3;p.alpha-=0.02;if(p.alpha<=0)particles.splice(i,1);});}function getNeighbors(r,c){let n=[],offsets=r%2?[[0,-1],[0,1],[-1,0],[-1,1],[1,0],[1,1]]:[[0,-1],[0,1],[-1,-1],[-1,0],[1,-1],[1,0]];offsets.forEach(([dr,dc])=>{let nr=r+dr,nc=c+dc;if(nr>=0&&nr<grid.length&&nc>=0&&nc<grid[nr].length&&grid[nr][nc])n.push({r:nr,c:nc});});return n;}function findMatches(r,c){if(!grid[r]||!grid[r][c])return[];let clr=grid[r][c].c,visited=new Set(),toVisit=[{r,c}],matches=[];while(toVisit.length){let{r:cr,c:cc}=toVisit.pop(),key=cr+','+cc;if(visited.has(key))continue;visited.add(key);matches.push({r:cr,c:cc});getNeighbors(cr,cc).forEach(({r:nr,c:nc})=>{if(grid[nr][nc].c===clr&&!visited.has(nr+','+nc))toVisit.push({r:nr,c:nc});});}return matches;}function explodeBubbles(matches){matches.forEach(({r,c})=>{let b=grid[r][c];for(let i=0;i<15;i++){particles.push({x:b.x,y:b.y,vx:(Math.random()-0.5)*8,vy:(Math.random()-0.5)*8-2,size:R*0.3,alpha:1,c:b.c});}});let step=0;let interval=setInterval(()=>{step++;matches.forEach(({r,c})=>{if(grid[r][c]){grid[r][c].scale=1+step*0.1;grid[r][c].alpha=Math.max(0,1-step*0.2);}});draw();if(step>=5){matches.forEach(({r,c})=>grid[r][c]=null);clearInterval(interval);animating=false;}},50);}function shoot(tx,ty){if(animating||mv<=0)return;animating=true;let dx=tx-shooter.x,dy=ty-shooter.y,dist=Math.sqrt(dx*dx+dy*dy),vx=dx/dist*10,vy=dy/dist*10,bx=shooter.x,by=shooter.y,bc=shooter.c;let interval=setInterval(()=>{bx+=vx;by+=vy;if(bx<R||bx>W-R)vx=-vx;draw();ctx.fillStyle=bc;ctx.beginPath();ctx.arc(bx,by,R,0,Math.PI*2);ctx.fill();ctx.strokeStyle='#FFF';ctx.lineWidth=3;ctx.stroke();let placed=false;grid.forEach((row,r)=>{row.forEach((b,c)=>{if(b&&!placed){let d=Math.sqrt((bx-b.x)**2+(by-b.y)**2);if(d<R*1.9){clearInterval(interval);let newR=r,newC=c,angle=Math.atan2(by-b.y,bx-b.x),offsets=r%2?[[0,-1],[0,1],[-1,0],[-1,1],[1,0],[1,1]]:[[0,-1],[0,1],[-1,-1],[-1,0],[1,-1],[1,0]],best=null,minDiff=999;offsets.forEach(([dr,dc])=>{let nr=r+dr,nc=c+dc;if(nr>=0&&nc>=0&&nc<cols){let x=(nc+0.5+(nr%2?0.5:0))*R*2.1+W/2-cols*R*1.05,y=nr*R*1.8+R*3,a=Math.atan2(y-b.y,x-b.x),diff=Math.abs(a-angle);if(diff<minDiff&&(!grid[nr]||!grid[nr][nc])){minDiff=diff;best={r:nr,c:nc};}}});if(best){newR=best.r;newC=best.c;}if(!grid[newR])grid[newR]=[];grid[newR][newC]={x:(newC+0.5+(newR%2?0.5:0))*R*2.1+W/2-cols*R*1.05,y:newR*R*1.8+R*3,c:bc,e:emojis[Math.floor(Math.random()*emojis.length)],scale:1,alpha:1,falling:false,vy:0};let matches=findMatches(newR,newC);if(matches.length>=3){explodeBubbles(matches);sc+=matches.length*10;scD.textContent=sc;}else{animating=false;}mv--;mvD.textContent=mv;shooter.c=colors[Math.floor(Math.random()*colors.length)];draw();if(mv<=0)gameOver();placed=true;}}})});if(by<R){clearInterval(interval);animating=false;draw();}},25);}function gameOver(){if(sc>bs){bs=sc;localStorage.setItem('bs',bs);}fsD.textContent=sc;bsD.textContent=bs;mod.style.display='block';}btn.onclick=()=>{init();};c.onclick=e=>shoot(e.clientX,e.clientY);c.ontouchstart=e=>{e.preventDefault();shoot(e.touches[0].clientX,e.touches[0].clientY);};window.onresize=()=>{resize();draw();};init();</script></body></html>
