<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,viewport-fit=cover"><title>BUBBLE</title><style>*{margin:0;padding:0;box-sizing:border-box}html,body{width:100%;height:100%;background:#1a1a1a}body{background:linear-gradient(135deg,#FF00FF,#00FFFF,#FFFF00,#FF0080);overflow:hidden}canvas{display:block;width:100%;height:100%;background:linear-gradient(135deg,#FF00FF,#00FFFF,#FFFF00,#FF0080)}</style></head><body><canvas id="c"></canvas><div style="position:fixed;top:10px;left:50%;transform:translateX(-50%);color:#fff;font-weight:bold;font-size:20px;text-shadow:0 0 10px #00ff00">SCORE: <span id="s">0</span> | MOVES: <span id="m">30</span></div><script src="https://telegram.org/js/telegram-web-app.js"></script><script>try{Telegram.WebApp.ready();Telegram.WebApp.expand()}catch(e){}const c=document.getElementById('c'),x=c.getContext('2d'),S=document.getElementById('s'),M=document.getElementById('m');let W,H,sc=0,mv=30,balls=[],sh={x:0,y:0,c:0};const col=['#FF0000','#00FF00','#0000FF','#FFFF00','#FF00FF','#00FFFF','#FF6600','#FF00FF'];function init(){W=c.width=window.innerWidth;H=c.height=window.innerHeight;let R=20;balls=[];for(let r=0;r<8;r++){for(let c=0;c<6;c++){balls.push({x:c*R*2.3+40,y:r*R*2.3+80,c:Math.floor(Math.random()*col.length)})}}sh.x=W/2;sh.y=H-40;sh.c=Math.floor(Math.random()*col.length);sc=0;mv=30;S.textContent=sc;M.textContent=mv;draw()}function draw(){x.fillStyle='transparent';x.clearRect(0,0,W,H);balls.forEach(b=>{x.fillStyle=col[b.c];x.beginPath();x.arc(b.x,b.y,18,0,Math.PI*2);x.fill()});x.fillStyle=col[sh.c];x.beginPath();x.arc(sh.x,sh.y,20,0,Math.PI*2);x.fill()}function dist(x1,y1,x2,y2){return Math.sqrt((x2-x1)**2+(y2-y1)**2)}function shoot(tx,ty){if(mv<=0)return;let dx=tx-sh.x,dy=ty-sh.y,d=dist(sh.x,sh.y,tx,ty);if(d<10)return;let vx=dx/d*10,vy=dy/d*10,bx=sh.x,by=sh.y,bc=sh.c;let i=setInterval(()=>{bx+=vx;by+=vy;if(bx<10)vx=10;if(bx>W-10)vx=-10;let hit=-1;for(let j=0;j<balls.length;j++){if(dist(bx,by,balls[j].x,balls[j].y)<35){hit=j;break}}if(hit>=0||by<0){clearInterval(i);if(hit>=0){balls.push({x:bx,y:by,c:bc});let g=getGrp(balls.length-1);if(g.length>=3){g.forEach(j=>balls.splice(j,1));sc+=g.length*10;S.textContent=sc}}mv--;M.textContent=mv;sh.c=Math.floor(Math.random()*col.length);draw()}else draw()},25)}function getGrp(i){let v=new Set(),q=[i],g=[];while(q.length){let j=q.shift();if(v.has(j))continue;v.add(j);g.push(j);for(let k=0;k<balls.length;k++){if(!v.has(k)&&balls[k].c===balls[j].c&&dist(balls[j].x,balls[j].y,balls[k].x,balls[k].y)<45)q.push(k)}}return g}c.onclick=e=>shoot(e.clientX,e.clientY);c.ontouchstart=e=>{e.preventDefault();shoot(e.touches[0].clientX,e.touches[0].clientY)};window.onresize=()=>{W=c.width=window.innerWidth;H=c.height=window.innerHeight;draw()};init();</script></body></html>
